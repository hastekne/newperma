@model Tuple<DesarrolloProyDSP.Models.Usuario.UsuarioViewModel, DesarrolloProyDSP.Models.ModuloBP.AutoresViewModel>
@{
    Layout = null;
    ViewBag.Title = "Autores";
    HttpContext.Current.User.Identity.Name.Equals("");
}

<!DOCTYPE html>

<html>
<head>
 
        <title>Autores</title>
        @*<meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="keywords" content="Hablar sobre la plataforma SEG" />
        <script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <!-- <link href="css/bootstrap.css" rel="stylesheet" type="text/css" media="all">-->
        <link href="@Url.Content("~/css/bootstrap.css")" rel="stylesheet" type="text/css" media="all">
        <!-- Custom Theme files -->
        <!--<link href="css/style.css" rel="stylesheet" type="text/css" media="all" />-->
        <link href="@Url.Content("~/css/style.css")" rel="stylesheet" type="text/css" media="all">
        <link href="@Url.Content("~/css/glyphicons.css")" rel="stylesheet" type="text/css" media="all">
        <!--js-->
        <script src="@Url.Content("~/Scripts/jquery-2.1.1.min.js")"></script>
        <!--icons-css-->
        <link href="@Url.Content("~/css/font-awesome.css")" rel="stylesheet">
        <link href="@Url.Content("~/css/panel.css")" rel="stylesheet">
        <link href="@Url.Content("~/css/materialdesignicons.min.css")" rel="stylesheet">
        <link href="@Url.Content("~/css/material-design-iconic-font.min.css")" rel="stylesheet">
        <link href="@Url.Content("~/css/material-design-iconic-font.css")" rel="stylesheet">

        <!--Google Fonts-->


        <link href='//fonts.googleapis.com/css?family=Carrois+Gothic' rel='stylesheet' type='text/css'>
        <link href='//fonts.googleapis.com/css?family=Work+Sans:400,500,600' rel='stylesheet' type='text/css'>

        <!--button css-->
        <link href="@Url.Content("~/css/demo-page.css")" rel="stylesheet" media="all">
        <link href="@Url.Content("~/css/hover.css")" rel="stylesheet" media="all">

        <!--static chart-->
        <script src="@Url.Content("~/Scripts/Chart.min.js")"></script>
        <!--//charts-->
        <script src="@Url.Content("~/Scripts/sidebarmenu.js")"></script>
        <!-- geo chart -->
        <script src="//cdn.jsdelivr.net/modernizr/2.8.3/modernizr.min.js" type="text/javascript"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script>window.modernizr || document.write('<script src="lib/modernizr/modernizr-custom.js"><\/script>')</script>
        <!--<script src="lib/html5shiv/html5shiv.js"></script>-->
        <!--pop up strat here-->
        <script src="@Url.Content("~/Scripts/jquery.magnific-popup.js")" type="text/javascript"></script>
        <script type="text/javascript">
            $(document).ready(function () {
                $('.popup-with-zoom-anim').magnificPopup({
                    type: 'inline',
                    fixedContentPos: false,
                    fixedBgPos: true,
                    overflowY: 'auto',
                    closeBtnInside: true,
                    preloader: false,
                    midClick: true,
                    removalDelay: 300,
                    mainClass: 'my-mfp-zoom-in'
                });

            });
        </script>

        <!-- agregar autor  -->
        <!--pop up end here-->
        <!--skycons-icons-->
        <script src="@Url.Content("~/Scripts/skycons.js")"></script>*@
    <!--//skycons-icons-->
    @Html.Partial("../ViewPartialPrincipales/_ScriptsLink")

</head>
<body>
    <div class="page-container">
        <div class="left-content">
            <div class="mother-grid-inner">
                <!--header start here-->
                @*<div class="header-main">

                <div class="row header-content">

                    <div>

                        <a href="http://www.seg.guanajuato.gob.mx">
                            <img src=@Url.Content("~/image/editable_logo.png") width="130" alt="SEG" />

                        </a> 	 <div style="margin-top: -60px; color: #FFFFFF" align="center" class="chit-chat-heading" id="titulo">
                            <p>Permanencia Escolar en la Educación Media Superior</p><br>

                        </div>


                        <nav id="main-nav-wrap" class="main-nav-wrap">
                            <ul class="main-navigation">
                                <li><a href="index" title="">Inicio</a></li>
                                <li class="has-children">
                                    <a href="Administrador/category.html" title="">Recursos Educativos</a>
                                    <!--SUB MENU  <ul class="sub-menu">
                                       <li><a href="category.html">Wordpress</a></li>
                                       <li><a href="category.html">HTML</a></li>
                                       <li><a href="category.html">Photography</a></li>
                                       <li><a href="category.html">UI</a></li>
                                       <li><a href="category.html">Mockups</a></li>
                                       <li><a href="category.html">Branding</a></li>
                                    </ul>-->
                                </li>
                                <li class="has-children">
                                    <a href="@Url.Action("Practicas","BuenasPracticas")" title="">Buenas pr&aacute;cticas</a>
                                    <!--SUB MENU    <ul class="sub-menu">
                                       <li><a href="single-video.html">Video Post</a></li>
                                       <li><a href="single-audio.html">Audio Post</a></li>
                                       <li><a href="single-gallery.html">Gallery Post</a></li>
                                       <li><a href="single-standard.html">Standard Post</a></li>
                                    </ul>-->
                                </li>
                                <li><a href="Administrador/style-guide.html" title="">Becas y Apoyos</a></li>
                                <li><a href="ActividadesA.html" title="">Actividades Acad&eacute;micas</a></li>
                                <li><a href="Administrador/contact.html" title="">Contacto</a></li>
                                <li class="hvr-icon-buzz-out" style="background:none; color: #FFFCFC; height: auto; margin-top: -13px; margin-bottom: -20px"><a href="@Url.Action("CerrarSesion","BuenasPracticas")">Cerrar sesión</a></li>

                            </ul>
                        </nav> <!-- end main-nav-wrap -->



                    </div>
                </div>






            </div>*@
                @Html.Partial("../ViewPartialPrincipales/_Header")
                <!--heder end here-->
                <!-- script-for sticky-nav -->
                <script>
                    $(document).ready(function () {
                        var navoffeset = $(".header-main").offset().top;
                        $(window).scroll(function () {
                            var scrollpos = $(window).scrollTop();
                            if (scrollpos >= navoffeset) {
                                $(".header-main").addClass("fixed");
                            } else {
                                $(".header-main").removeClass("fixed");
                            }
                        });

                    });
                </script>
                <!-- /script-for sticky-nav -->
                <!--inner block start here-->
                <!--pop-up-grid-->
                <!--pop-up-grid-->
                <!--inner block start here-->

                <div class="inner-block" style="margin-top: -20px">
                    <!--market updates updates-->
















                    <div class="chit-chat-layer1" style="margin-top: -50px">
                        <div class="clearfix"> </div>

                        <div class="col-md-12 mailbox-content  tab-content tab-content-in" style="padding-right: 30px; padding-top: 10px">

                            <div class="col-md-4 compose">
                                <div class="compose-block" style="width:400px; " align="right">

                                    <div class="compose-bottom" align="right">

                                        <div style="padding-top: 8px; padding-left: 10px;" class="chit-chat-heading"> Agregar Autores de la Buena Práctica </div><br>


                                        <div class="inner-wrap">
                                            <label>Nombre <input value="@Model.Item2.nombreA" class="autor" id="txtNombre" name="txtNombre" style="border: none; resize: none;" type="text" align="right " maxlength="50" required /></label>
                                            <label>Primer Apellido <input value="@Model.Item2.pApellidoA" class="autor" id="txtPApellido" name="txtPApellido" style="border: none; resize: none;" type="text" align="right" maxlength="30" required /></label>
                                            <label>Segundo Apellido <input value="@Model.Item2.mApellidoA" class="autor" id="txtSApellido" name="txtSApellido" style="border: none; resize: none;" type="text" align="right" maxlength="30" /></label>
                                            <label>Correo electr&oacute;nico <input value="@Model.Item2.correoElectronicoA" class="autor" id="txtCE" name="txtCE" style="border: none; resize: none;" type="email" maxlength="50" pattern=".+\.[a-z]{2,}" required align="right" /></label>
                                            <label>Telefono <input value="@Model.Item2.telefonoA" class="autor" id="txtTel" name="txtTel" style="border: none; resize: none;" type="tel" required max="10" min="10" maxlength="10" pattern="^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$" title="El número de teléfono es invalido, recuerde sólo teclear los 10 dígitos sin ningun otro signo." align="right" /></label>
                                        </div>



                                    </div>
                                    <br>

                                    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                                    &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;<a onclick="AgregarAutor()" class="right">Agregar Autor</a>
                                </div>





                            </div>

                            <div class="col-md-8 mailbox-content  tab-content tab-content-in">
                                @*<div>



                                <div class="clearfix"> </div>
                                <div style="padding-top: 8px; padding-left: 10px; text-align: left" class="chit-chat-heading"> Autores Registrados</div>


                                <div class="clearfix"> </div>
                            </div>*@


                                <!--inicia contenido correos-->
                                @*<table class="table tab-border" style="text-decoration-color: #000000" align="center">

                                <tr align="center">

                                    <th>Nombre completo del Autor</th>

                                    <th>Email</th>
                                    <th>Teléfono</th>
                                    <th>Eliminar</th>

                                </tr>
                                <tbody>
                                    @foreach (var item in Model.Item1.listaUsuario)
                                    {
                                        <tr class="unread checked">
                                            <td>
                                                <ul>
                                                    <i class="glyphicon_y glyphicon-star" aria-hidden="true">&shy;</i> &shy; @item.nombre @item.pApellido @item.sApellido
                                                </ul>

                                            </td>
                                            <td>
                                                @item.correoElectronico
                                            </td>
                                            <td>
                                                @item.telefono
                                            </td>
                                            <td>

                                            </td>
                                        </tr>
                                    }

                                    @foreach (var item in Model.Item2.listAutores)
                                    {
                                        <tr class="unread checked">
                                            <td class="hidden-xs">
                                                @item.nombreA @item.pApellidoA @item.mApellidoA
                                            </td>
                                            <td>
                                                @item.correoElectronicoA
                                            </td>
                                            <td>
                                                @item.telefonoA
                                            </td>
                                            <td>
                                                <ul>
                                                    <i class="glyphicon_x glyphicon-trash" aria-hidden="true"></i>

                                                </ul>
                                            </td>
                                        </tr>
                                    }



                                </tbody>
                            </table>*@
                                <div id="tablaAutores">

                                    @Html.Partial("_TablaAutores", Tuple.Create(Model.Item1, Model.Item2))
                                </div>
                                <!--termina contenido correos-->
                            </div>
                        </div>
                    </div>



                </div>

                <div class="clearfix"> </div>
            </div>
            <!--main page chit chating end here-->

            <div class="clearfix"> </div>





            <!--inner block end here-->
            <!--copy rights start here-->
            <!--copy rights start here-->
            @*<div class="copyrights">

            <img src=@Url.Content("~/image/gto.png") class="imgRedonda" style="display:inline" alt="GTO" width="100">

            <br><br>
            <p>SECRETAR&Iacute;A DE EDUCACI&Oacute;N DE GUANAJUATO</p>

            <p style="font-size: 12px">
                Pozuelos: Conjunto Administrativo Pozuelos S/N Guanajuato, Gto. (473) 735-1000
                Puentecillas: Carretera Guanajuato-Puentecillas km 9.5 Guanajuato, Gto. (473) 735-1200
                Profesiones: Carretera Guanajuato-Juventino Rosas km 6.5 Esq. Jazm&iacute;n, Col. Arroyo Verde (473) 10 20 200

                01 800 890 30 80
            </p>

            <a href="mailto:comunicacion_seg@seg.guanajuato.gob.mx?subject=Email%20Subject">comunicacion_seg@seg.guanajuato.gob.mx</a>





            <ul class="social-buttons" id="demo3">
                <li>
                    <a href="http://www.youtube.com/user/EducacionGuanajuato" class="brandico-youtube"><img src="http://hopedalebuilders.com/files/2018/01/youtube-icon-white.png" width="70%"></a>
                </li>
                <li>
                    <a href="https://www.facebook.com/pages/Secretar%C3%ADa-de-Educaci%C3%B3n-de-Guanajuato-SEG/340786939279382?ref=hl" class="brandico-facebook"><img src="https://amcboise.com/wp-content/uploads/2017/11/facebook.png" width="80%"></a>
                </li>
                <li>
                    <a href="https://twitter.com/ComunicacionSEG" class="brandico-twitter-bird"><img src="https://www.bh-bims.org/wp-content/uploads/2017/12/twitter-icon-white-e1513102680550.png" width="90%"></a>
                </li>


            </ul>

        </div>*@
            @Html.Partial("../ViewPartialPrincipales/_Footer")
            <!--COPY rights end here-->
        </div>
    </div>




    <div class="clearfix"> </div>

    <!--slide bar menu end here-->
    <!--scrolling js-->
    <script src="Administrador/js/jquery.nicescroll.js"></script>
    <script src="Administrador/js/scripts.js"></script>
    <!--//scrolling js-->
    <script src="Administrador/js/bootstrap.js"></script>
    <!-- mother grid end here-->
    }
    }

</body>
</html>

<script type="text/javascript">
    function AgregarAutor() {
        $.ajax({
        type: "POST",
        url: '@Url.Action("AgregarAutor", "BuenasPracticas")', // don't hard code url's
            data: { txtNombre: $('#txtNombre').val(), txtPApellido: $('#txtPApellido').val(), txtSApellido: $('#txtSApellido').val(), txtCE: $('#txtCE').val(), txtTel: $('#txtTel').val()},
        dataType: "html",
            success: function (response) // lowercase (not Success)
            {
                $('#tablaAutores').html(response);
                document.getElementById("txtNombre").value = "";
                document.getElementById("txtPApellido").value = "";
                document.getElementById("txtSApellido").value = "";
                document.getElementById("txtCE").value = "";
                document.getElementById("txtTel").value = "";
                document.getElementById("palabraClave").select();
               // alert("funciono");
               
             },
            error: function (response) {
                alert("Error al agregar Autor, vuelva a intentar.");
            }
        });
    }
    //function AgregarAutor() {
    //    document.getElementById("formS").submit();


    //}
</script>
