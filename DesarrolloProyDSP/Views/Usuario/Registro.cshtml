@model DesarrolloProyDSP.Models.Usuario.UsuarioViewModel
@{
    Layout = null;
    ViewBag.Title = "Registro";
    HttpContext.Current.User.Identity.Name.Equals("");
}

<!DOCTYPE html>

<html>
<head>

    <title>Registro</title>
    @*<meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="keywords" content="Hablar sobre la plataforma SEG" />
        <script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <!-- <link href="css/bootstrap.css" rel="stylesheet" type="text/css" media="all">-->
        <link href="@Url.Content("~/css/bootstrap.css")" rel="stylesheet" type="text/css" media="all">
        <!-- Custom Theme files -->
        <!--<link href="css/style.css" rel="stylesheet" type="text/css" media="all" />-->
        <link href="@Url.Content("~/css/style.css")" rel="stylesheet" type="text/css" media="all">
        <!--js-->
        <script src="@Url.Content("~/Scripts/jquery-2.1.1.min.js")"></script>
        <!--icons-css-->
        <link href="@Url.Content("~/css/font-awesome.css")" rel="stylesheet">
        <link href="@Url.Content("~/css/panel.css")" rel="stylesheet">
        <link href="@Url.Content("~/material-design-iconic-font/css/materialdesignicons.min.css")" rel="stylesheet">

        <!--Google Fonts-->


        <link href='//fonts.googleapis.com/css?family=Carrois+Gothic' rel='stylesheet' type='text/css'>
        <link href='//fonts.googleapis.com/css?family=Work+Sans:400,500,600' rel='stylesheet' type='text/css'>

        <!--button css-->
        <link href="@Url.Content("~/css/demo-page.css")" rel="stylesheet" media="all">
        <link href="@Url.Content("~/css/hover.css")" rel="stylesheet" media="all">

        <!--static chart-->
        <script src="@Url.Content("~/Scripts/Chart.min.js")"></script>
        <!--//charts-->
        <script src="@Url.Content("~/Scripts/sidebarmenu.js")"></script>
        <!-- geo chart -->
        <script src="//cdn.jsdelivr.net/modernizr/2.8.3/modernizr.min.js" type="text/javascript"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script>window.modernizr || document.write('<script src="lib/modernizr/modernizr-custom.js"><\/script>')</script>*@
    <!--<script src="lib/html5shiv/html5shiv.js"></script>-->
    <!--pop up strat here-->
    <script src="@Url.Content("~/Scripts/jquery.magnific-popup.js")" type="text/javascript"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $('.popup-with-zoom-anim').magnificPopup({
                type: 'inline',
                fixedContentPos: false,
                fixedBgPos: true,
                overflowY: 'auto',
                closeBtnInside: true,
                preloader: false,
                midClick: true,
                removalDelay: 300,
                mainClass: 'my-mfp-zoom-in'
            });

        });
    </script>
    <!--pop up end here-->
    <!--skycons-icons-->
    <script src="@Url.Content("~/Scripts/skycons.js")"></script>
    <!--//skycons-icons-->
    @Html.Partial("../ViewPartialPrincipales/_ScriptsLink")
</head>
<body>
    @*<div id="popup">
        <div id="logingR" class="mfp-hide">
            <div class="pop_up">
                <div class="payment-online-form-left">
                    <form>

                        <h4>Inicio de sesión</h4>


                        <ul>
                            <li><input id="txtUserR" name="txtUserR" class="text-box-dark" type="text" value="Usuario" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'Usuario';}" style="width: 100%;"></li>
                            <li><input id="txtPassR" name="txtPassR" class="text-box-dark" type="password" value="Contraseña" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'Contraseña';}" style="width: 100%"></li>
                        </ul>






                        <ul class="payment-sendbtns">

                            <li><input type="button" value="Registrarte" onclick="location.href='@Url.Action("Registro","Usuario")'"></li>*@


                            @*<li><input type="button" value="¿Olvidaste tu contraseña?"></li>*@

                        @*</ul>

                        <a onclick="IniciarSesionR()" class="order" style="width: 100%;">Iniciar sesión</a>
                    </form>
                </div>
            </div>
        </div>


    </div>*@



    @using (Html.BeginForm("Registro"))
    {
       // @Html.AntiForgeryToken()

        <div class="page-container">
            <div class="left-content">
                <div class="mother-grid-inner">
                    <!--header start here-->
                    @*<div class="header-main">

                <div class="row header-content">

                    <div>

                        <a href="http://www.seg.guanajuato.gob.mx">
                            <img src=@Url.Content("~/image/editable_logo.png") width="130" alt="SEG" />

                        </a> 	 <div style="margin-top: -60px; color: #FFFFFF" align="center" class="chit-chat-heading" id="titulo">
                            <p>Permanencia Escolar en la Educación Media Superior</p><br>

                        </div>


                        <nav id="main-nav-wrap" class="main-nav-wrap">
                            <ul class="main-navigation">
                                <li><a href="index" title="">Inicio</a></li>
                                <li class="has-children">
                                    <a href="Administrador/category.html" title="">Recursos Educativos</a>
                                    <!--SUB MENU  <ul class="sub-menu">
                                       <li><a href="category.html">Wordpress</a></li>
                                       <li><a href="category.html">HTML</a></li>
                                       <li><a href="category.html">Photography</a></li>
                                       <li><a href="category.html">UI</a></li>
                                       <li><a href="category.html">Mockups</a></li>
                                       <li><a href="category.html">Branding</a></li>
                                    </ul>-->
                                </li>
                                <li class="has-children">
                                    <a href="@Url.Action("Practicas","BuenasPracticas")" title="">Buenas pr&aacute;cticas</a>
                                    <!--SUB MENU    <ul class="sub-menu">
                                       <li><a href="single-video.html">Video Post</a></li>
                                       <li><a href="single-audio.html">Audio Post</a></li>
                                       <li><a href="single-gallery.html">Gallery Post</a></li>
                                       <li><a href="single-standard.html">Standard Post</a></li>
                                    </ul>-->
                                </li>
                                <li><a href="Administrador/style-guide.html" title="">Becas y Apoyos</a></li>
                                <li><a href="ActividadesA.html" title="">Actividades Acad&eacute;micas</a></li>
                                <li><a href="Administrador/contact.html" title="">Contacto</a></li>
                            </ul>
                        </nav> <!-- end main-nav-wrap -->



                    </div>
                </div>



                <!--search-box <div class="header-left">



                               <div class="search-box">&shy;
                                 <form>
                                       &shy;<input type="text" placeholder="Buscar..." required="">
                                       &shy;<input type="submit" value="">
                                   </form>
                               </div>

                   <div class="clearfix"> </div>
                        </div>-->


                <div class="clearfix"> </div>
            </div>*@
                    @*@Html.Partial("../BuenasPracticas/_Header")*@
                    @Html.Partial("../ViewPartialPrincipales/_Header")
                    <div class="clearfix"> </div>
                </div>
                <!--heder end here-->
                <!-- script-for sticky-nav -->
                <script>
                    $(document).ready(function () {
                        var navoffeset = $(".header-main").offset().top;
                        $(window).scroll(function () {
                            var scrollpos = $(window).scrollTop();
                            if (scrollpos >= navoffeset) {
                                $(".header-main").addClass("fixed");
                            } else {
                                $(".header-main").removeClass("fixed");
                            }
                        });

                    });
                </script>
                <!-- /script-for sticky-nav -->
                <!--inner block start here-->


                <div class="inner-block" style="margin-top: -20px">
                    <!--market updates updates-->


                    <div class="clearfix"> </div>








                    <!--pop-up-grid-->
                    <!--pop-up-grid-->




                    <div class="chit-chat-layer1 ">
                        <div class="col-md-2 chit-chat-layer1-left "></div>

                        <div class="col-md-8 chit-chat-layer1-left ">
                            <div class="work-progres ">

                                <div class="table-responsive">




                                    <div class="form-style-10">
                                        <h1>Registro</h1>
                                        @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                                        @using (Html.BeginForm("Registro"))
                                        {

                                            <form>
                                                <div class="section"></div>
                                                <label>
                                                    Nombre
                                                    <input type="text" name="nombre" id="nombre" maxlength="50" value="@Model.nombre" required />
                                                    @*@Html.EditorFor(model => model.nombre)*@
                                                </label>
                                                <label>
                                                    Primer Apellido
                                                    <input type="text" name="apellidoP" id="apellidoP" maxlength="30" value="@Model.pApellido" required />

                                                </label>
                                                <label>
                                                    Segundo Apellido
                                                    <input type="text" name="apellidoM" id="apellidoM" maxlength="30" value="@Model.sApellido" />
                                                    @*@Html.EditorFor(model => model.nombre)*@
                                                </label>

                                                <div class="section">Contacto</div>
                                                <div class="inner-wrap">
                                                    <label> Correo electr&oacute;nico<input type="email" name="email" id="email" maxlength="50" pattern=".+\.[a-z]{2,}" value="@Model.correoElectronico" required /></label>
                                                    <label>Confirmar Correo electr&oacute;nico <input type="email" name="cEmail" id="cEmail" maxlength="50" pattern=".+\.[a-z]{2,}" required /></label>
                                                    <label>Teléfono<input name="tel" id="tel" type="tel" required max="10" min="10" maxlength="10" pattern="^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$" title="El número de teléfono es invalido, recuerde sólo teclear los 10 dígitos sin ningun otro signo." value="@Model.telefono" /></label>
                                                </div>


                                                <label>Usuario <input type="text" name="userName" id="userName" maxlength="15" value="@Model.nombreUsuario" pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[A-Za-z\d]{6,15}" title="De 6-15 caracter, minimo 1 MAYUS 1 NÚMERO, sin acentos y ñ" required /></label>
                                                <label>
                                                    Contraseña <input type="password" maxlength="15" name="pass" id="pass" required pattern=".{6,}" />
                                                </label>
                                                <label>
                                                    Confirmar Contraseña <input type="password" maxlength="15" name="cPass" id="cPass" required pattern=".{6,}" />
                                                </label>




                                                <div class="button-section">
                                                    <input type="submit" name="SignUp" value="Registrar" />

                                                </div>
                                            </form>
                                        }
                                    </div>


                                </div>
                            </div>
                        </div>
                        <div class="col-md-2 chit-chat-layer1-rit">

                        </div>
                        <div class="clearfix"> </div>
                    </div>


                </div>
                <!--inner block end here-->
                <!--copy rights start here-->
                @*<div class="copyrights">

            <img src=@Url.Content("~/image/gto.png") class="imgRedonda" style="display:inline" alt="GTO" width="100">

            <br><br>
            <p>SECRETAR&Iacute;A DE EDUCACI&Oacute;N DE GUANAJUATO</p>

            <p style="font-size: 12px">
                Pozuelos: Conjunto Administrativo Pozuelos S/N Guanajuato, Gto. (473) 735-1000
                Puentecillas: Carretera Guanajuato-Puentecillas km 9.5 Guanajuato, Gto. (473) 735-1200
                Profesiones: Carretera Guanajuato-Juventino Rosas km 6.5 Esq. Jazm&iacute;n, Col. Arroyo Verde (473) 10 20 200

                01 800 890 30 80
            </p>

            <a href="mailto:comunicacion_seg@seg.guanajuato.gob.mx?subject=Email%20Subject">comunicacion_seg@seg.guanajuato.gob.mx</a>





            <ul class="social-buttons" id="demo3">
                <li>
                    <a href="http://www.youtube.com/user/EducacionGuanajuato" class="brandico-youtube"><img src="http://hopedalebuilders.com/files/2018/01/youtube-icon-white.png" width="70%"></a>
                </li>
                <li>
                    <a href="https://www.facebook.com/pages/Secretar%C3%ADa-de-Educaci%C3%B3n-de-Guanajuato-SEG/340786939279382?ref=hl" class="brandico-facebook"><img src="https://amcboise.com/wp-content/uploads/2017/11/facebook.png" width="80%"></a>
                </li>
                <li>
                    <a href="https://twitter.com/ComunicacionSEG" class="brandico-twitter-bird"><img src="https://www.bh-bims.org/wp-content/uploads/2017/12/twitter-icon-white-e1513102680550.png" width="90%"></a>
                </li>


            </ul>

        </div>*@
                @Html.Partial("../ViewPartialPrincipales/_Footer")
                <!--COPY rights end here-->
            </div>
        </div>




        <div class="clearfix"> </div>

        <!--slide bar menu end here-->
        <!--scrolling js-->
        <script src="Administrador/js/jquery.nicescroll.js"></script>
        <script src="Administrador/js/scripts.js"></script>
        <!--//scrolling js-->
        <script src="Administrador/js/bootstrap.js"></script>
        <!-- mother grid end here-->
    }

    @*<script language="javascript" type="text/javascript">

        function Mensaje() {

            alert("HOLA");

        }
    function RegistrarUser(){
    var nom = document.getElementById("nombre").value;
    var aP = document.getElementById("apellidoP").value;
    var aM = document.getElementById("apellidoM").value;
    var em = document.getElementById("email").value;
    var cEm = document.getElementById("cEmail").value;
    var tele = document.getElementById("tel").value;
    var uName = document.getElementById("userName").value;
    var pas = document.getElementById("pass").value;
    var cPas = document.getElementById("cPass").value;
                $.ajax({
                    url: "@Url.Action("Registro", "Usuario")",
                    method: "POST",
                    data: { nombre: nom, apellidoP: aP, apellidoM:aM, email: em, cEmail: cEm, tel: tele, userName: uName, pass: pas, cPass: cPas },
                    datatype: "json",
        })

    }
    </script>*@
    <script type="text/javascript">
        @*function RegistrarUsuario() {
             $.ajax({
        type: "POST",
        url: '@Url.Action("Registro", "Usuario")', // don't hard code url's
                 data: {
                     nombre: $('#nombre').val(),
                     apellidoP: $('#apellidoP').val(),
                     apellidoM: $('#apellidoM').val(),
                     email: $('#email').val(),
                     cEmail: $('#cEmail').val(),
                     tel: $('#tel').val(),
                     userName: $('#userName').val(),
                     pass: $('#pass').val(),
                     cPass: $('#cPass').val()
                 },
        //dataType: "json",
                 success: function () {
                     alert("func");
                 }
            //success: function (data) // lowercase (not Success)
            //{
            //    alert("entro");
            // },
            //error: function (data) {
            //    alert("Error en el filtro de la tabla.");
            //}
        });
        }*@

        function IniciarSesionR()
    {
        $.ajax({
        type: "POST",
        url: '@Url.Action("ValidaInicioS", "Usuario")', // don't hard code url's
            data: { userName: $('#txtUserR').val(), pass: $('#txtPassR').val()},
       // dataType: "html",
             success: function (data) // lowercase (not Success)
            {       
                 @*if (data == "Colaborador") {
                     window.location.assign(@Url.Action("Sesion","BuenasPracticas"));
                 } else if (data == "NO") {
                     alert("Usuario o contraseña incorrectos.");
                 }*@
                 if (data == "NO") {
                     alert("Usuario o contraseña incorrectos.");
                 }
                 if (data == "Colaborador") {
                     @*location.href = '@Url.Action("Sesion","BuenasPracticas")';*@
                     window.location.assign("../BuenasPracticas/Sesion");
                 } else if (data == "Revisor") {
                     window.location.assign("../BuenasPracticas/SesionRevisor");
                 }
                 //alert(data);       
                 
             },
             error: function (data) {
                alert("Error al Iniciar Sesión");
            }
        });
    }
    </script>
</body>
</html >
